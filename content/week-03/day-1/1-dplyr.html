---
title: "dplyr Homework"
subtitle: "Week 03, Day 1; Homework"
author: "Miles Drake"
date: 2020-03-09
output:
  html_document:
    df_print: paged
    number_sections: true
    toc: true
    toc_float: true
---



<pre class="r"><code>library(tidyverse)</code></pre>
<div id="mvp" class="section level1">
<h1>MVP</h1>
<div id="section" class="section level2">
<h2></h2>
<pre class="r"><code>drinks &lt;- read_csv(&quot;data/starbucks_drinkMenu_expanded.csv&quot;)</code></pre>
<pre class="r"><code>head(drinks, 5)</code></pre>
<pre><code>## # A tibble: 5 x 18
##   Beverage_catego~ Beverage Beverage_prep Calories `Total Fat (g)`
##   &lt;chr&gt;            &lt;chr&gt;    &lt;chr&gt;            &lt;dbl&gt; &lt;chr&gt;          
## 1 Coffee           Brewed ~ Short                3 0.1            
## 2 Coffee           Brewed ~ Tall                 4 0.1            
## 3 Coffee           Brewed ~ Grande               5 0.1            
## 4 Coffee           Brewed ~ Venti                5 0.1            
## 5 Classic Espress~ Caffè L~ Short Nonfat~       70 0.1            
## # ... with 13 more variables: `Trans Fat (g)` &lt;dbl&gt;, `Saturated Fat (g)` &lt;dbl&gt;,
## #   `Sodium (mg)` &lt;dbl&gt;, `Total Carbohydrates (g)` &lt;dbl&gt;, `Cholesterol
## #   (mg)` &lt;dbl&gt;, `Dietary Fibre (g)` &lt;dbl&gt;, `Sugars (g)` &lt;dbl&gt;, `Protein
## #   (g)` &lt;dbl&gt;, `Vitamin A (% DV)` &lt;chr&gt;, `Vitamin C (% DV)` &lt;chr&gt;, `Calcium (%
## #   DV)` &lt;chr&gt;, `Iron (% DV)` &lt;chr&gt;, `Caffeine (mg)` &lt;chr&gt;</code></pre>
<pre class="r"><code>tail(drinks, 5)</code></pre>
<pre><code>## # A tibble: 5 x 18
##   Beverage_catego~ Beverage Beverage_prep Calories `Total Fat (g)`
##   &lt;chr&gt;            &lt;chr&gt;    &lt;chr&gt;            &lt;dbl&gt; &lt;chr&gt;          
## 1 Frappuccino® Bl~ Strawbe~ Soymilk            320 3 2            
## 2 Frappuccino® Bl~ Vanilla~ Tall Nonfat ~      170 0.1            
## 3 Frappuccino® Bl~ Vanilla~ Whole Milk         200 3.5            
## 4 Frappuccino® Bl~ Vanilla~ Soymilk            180 1.5            
## 5 Frappuccino® Bl~ Vanilla~ Grande Nonfa~      240 0.1            
## # ... with 13 more variables: `Trans Fat (g)` &lt;dbl&gt;, `Saturated Fat (g)` &lt;dbl&gt;,
## #   `Sodium (mg)` &lt;dbl&gt;, `Total Carbohydrates (g)` &lt;dbl&gt;, `Cholesterol
## #   (mg)` &lt;dbl&gt;, `Dietary Fibre (g)` &lt;dbl&gt;, `Sugars (g)` &lt;dbl&gt;, `Protein
## #   (g)` &lt;dbl&gt;, `Vitamin A (% DV)` &lt;chr&gt;, `Vitamin C (% DV)` &lt;chr&gt;, `Calcium (%
## #   DV)` &lt;chr&gt;, `Iron (% DV)` &lt;chr&gt;, `Caffeine (mg)` &lt;chr&gt;</code></pre>
<pre class="r"><code>drinks</code></pre>
<pre><code>## # A tibble: 242 x 18
##    Beverage_catego~ Beverage Beverage_prep Calories `Total Fat (g)`
##    &lt;chr&gt;            &lt;chr&gt;    &lt;chr&gt;            &lt;dbl&gt; &lt;chr&gt;          
##  1 Coffee           Brewed ~ Short                3 0.1            
##  2 Coffee           Brewed ~ Tall                 4 0.1            
##  3 Coffee           Brewed ~ Grande               5 0.1            
##  4 Coffee           Brewed ~ Venti                5 0.1            
##  5 Classic Espress~ Caffè L~ Short Nonfat~       70 0.1            
##  6 Classic Espress~ Caffè L~ 2% Milk            100 3.5            
##  7 Classic Espress~ Caffè L~ Soymilk             70 2.5            
##  8 Classic Espress~ Caffè L~ Tall Nonfat ~      100 0.2            
##  9 Classic Espress~ Caffè L~ 2% Milk            150 6              
## 10 Classic Espress~ Caffè L~ Soymilk            110 4.5            
## # ... with 232 more rows, and 13 more variables: `Trans Fat (g)` &lt;dbl&gt;,
## #   `Saturated Fat (g)` &lt;dbl&gt;, `Sodium (mg)` &lt;dbl&gt;, `Total Carbohydrates
## #   (g)` &lt;dbl&gt;, `Cholesterol (mg)` &lt;dbl&gt;, `Dietary Fibre (g)` &lt;dbl&gt;, `Sugars
## #   (g)` &lt;dbl&gt;, `Protein (g)` &lt;dbl&gt;, `Vitamin A (% DV)` &lt;chr&gt;, `Vitamin C (%
## #   DV)` &lt;chr&gt;, `Calcium (% DV)` &lt;chr&gt;, `Iron (% DV)` &lt;chr&gt;, `Caffeine
## #   (mg)` &lt;chr&gt;</code></pre>
</div>
<div id="section-1" class="section level2">
<h2></h2>
<pre class="r"><code>drinks$Calories &lt;- gsub(&quot;-&quot;, NA, drinks$Calories)
drinks$`Fat (g)` &lt;- gsub(&quot;-&quot;, NA, drinks$`Fat (g)`)
drinks$`Carb. (g)` &lt;- gsub(&quot;-&quot;, NA, drinks$`Carb. (g)`)
drinks$`Fiber (g)` &lt;- gsub(&quot;-&quot;, NA, drinks$`Fiber (g)`)
drinks$Protein &lt;- gsub(&quot;-&quot;, NA, drinks$Protein)
drinks$Sodium &lt;- gsub(&quot;-&quot;, NA, drinks$Sodium)

drinks$Calories &lt;- as.integer(drinks$Calories)
drinks$`Fat (g)` &lt;- as.integer(drinks$`Fat (g)`)
drinks$`Carb. (g)` &lt;- as.integer(drinks$`Carb. (g)`)
drinks$`Fiber (g)` &lt;- as.integer(drinks$`Fiber (g)`)
drinks$Protein &lt;- as.integer(drinks$Protein)
drinks$Sodium &lt;- as.integer(drinks$Sodium)</code></pre>
<pre class="r"><code>summary_statistics &lt;- list()
summary_statistics$mean &lt;- mean(drinks$Calories, na.rm = TRUE)
summary_statistics$variance &lt;- var(drinks$Calories, na.rm = TRUE)
hist(drinks$Calories)</code></pre>
<p><img src="/week-03/day-1/1-dplyr_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
</div>
<div id="section-2" class="section level2">
<h2></h2>
<pre class="r"><code>outlier_ids &lt;- boxplot(
  drinks$Calories
)$out</code></pre>
<p><img src="/week-03/day-1/1-dplyr_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<pre class="r"><code>filter(
  drinks,
  Calories %in% outlier_ids
)</code></pre>
<pre><code>## # A tibble: 1 x 18
##   Beverage_catego~ Beverage Beverage_prep Calories `Total Fat (g)`
##   &lt;chr&gt;            &lt;chr&gt;    &lt;chr&gt;            &lt;dbl&gt; &lt;chr&gt;          
## 1 Signature Espre~ White C~ 2% Milk            510 15             
## # ... with 13 more variables: `Trans Fat (g)` &lt;dbl&gt;, `Saturated Fat (g)` &lt;dbl&gt;,
## #   `Sodium (mg)` &lt;dbl&gt;, `Total Carbohydrates (g)` &lt;dbl&gt;, `Cholesterol
## #   (mg)` &lt;dbl&gt;, `Dietary Fibre (g)` &lt;dbl&gt;, `Sugars (g)` &lt;dbl&gt;, `Protein
## #   (g)` &lt;dbl&gt;, `Vitamin A (% DV)` &lt;chr&gt;, `Vitamin C (% DV)` &lt;chr&gt;, `Calcium (%
## #   DV)` &lt;chr&gt;, `Iron (% DV)` &lt;chr&gt;, `Caffeine (mg)` &lt;chr&gt;</code></pre>
</div>
<div id="section-3" class="section level2">
<h2></h2>
<pre class="r"><code>select(drinks, Beverage_category, Beverage, Beverage_prep, Calories)</code></pre>
<pre><code>## # A tibble: 242 x 4
##    Beverage_category       Beverage      Beverage_prep     Calories
##    &lt;chr&gt;                   &lt;chr&gt;         &lt;chr&gt;                &lt;dbl&gt;
##  1 Coffee                  Brewed Coffee Short                    3
##  2 Coffee                  Brewed Coffee Tall                     4
##  3 Coffee                  Brewed Coffee Grande                   5
##  4 Coffee                  Brewed Coffee Venti                    5
##  5 Classic Espresso Drinks Caffè Latte   Short Nonfat Milk       70
##  6 Classic Espresso Drinks Caffè Latte   2% Milk                100
##  7 Classic Espresso Drinks Caffè Latte   Soymilk                 70
##  8 Classic Espresso Drinks Caffè Latte   Tall Nonfat Milk       100
##  9 Classic Espresso Drinks Caffè Latte   2% Milk                150
## 10 Classic Espresso Drinks Caffè Latte   Soymilk                110
## # ... with 232 more rows</code></pre>
</div>
<div id="section-4" class="section level2">
<h2></h2>
<pre class="r"><code>filter(
  drinks,
  Beverage_category == &quot;Classic Espresso Drinks&quot;
)</code></pre>
<pre><code>## # A tibble: 58 x 18
##    Beverage_catego~ Beverage Beverage_prep Calories `Total Fat (g)`
##    &lt;chr&gt;            &lt;chr&gt;    &lt;chr&gt;            &lt;dbl&gt; &lt;chr&gt;          
##  1 Classic Espress~ Caffè L~ Short Nonfat~       70 0.1            
##  2 Classic Espress~ Caffè L~ 2% Milk            100 3.5            
##  3 Classic Espress~ Caffè L~ Soymilk             70 2.5            
##  4 Classic Espress~ Caffè L~ Tall Nonfat ~      100 0.2            
##  5 Classic Espress~ Caffè L~ 2% Milk            150 6              
##  6 Classic Espress~ Caffè L~ Soymilk            110 4.5            
##  7 Classic Espress~ Caffè L~ Grande Nonfa~      130 0.3            
##  8 Classic Espress~ Caffè L~ 2% Milk            190 7              
##  9 Classic Espress~ Caffè L~ Soymilk            150 5              
## 10 Classic Espress~ Caffè L~ Venti Nonfat~      170 0.4            
## # ... with 48 more rows, and 13 more variables: `Trans Fat (g)` &lt;dbl&gt;,
## #   `Saturated Fat (g)` &lt;dbl&gt;, `Sodium (mg)` &lt;dbl&gt;, `Total Carbohydrates
## #   (g)` &lt;dbl&gt;, `Cholesterol (mg)` &lt;dbl&gt;, `Dietary Fibre (g)` &lt;dbl&gt;, `Sugars
## #   (g)` &lt;dbl&gt;, `Protein (g)` &lt;dbl&gt;, `Vitamin A (% DV)` &lt;chr&gt;, `Vitamin C (%
## #   DV)` &lt;chr&gt;, `Calcium (% DV)` &lt;chr&gt;, `Iron (% DV)` &lt;chr&gt;, `Caffeine
## #   (mg)` &lt;chr&gt;</code></pre>
</div>
<div id="section-5" class="section level2">
<h2></h2>
<pre class="r"><code>drink_calories &lt;- as_tibble(
  drinks %&gt;%
    select(Beverage_category, Beverage, Beverage_prep, Calories) %&gt;%
    mutate(
      calorie_diff = Calories - 135
    ) %&gt;%
    arrange(
      desc(Calories),
      Beverage_category,
      Beverage
    )
)</code></pre>
<pre class="r"><code>drink_calories</code></pre>
<pre><code>## # A tibble: 242 x 5
##    Beverage_category    Beverage            Beverage_prep  Calories calorie_diff
##    &lt;chr&gt;                &lt;chr&gt;               &lt;chr&gt;             &lt;dbl&gt;        &lt;dbl&gt;
##  1 Signature Espresso ~ White Chocolate Mo~ 2% Milk             510          375
##  2 Frappuccino® Blende~ Java Chip (Without~ Whole Milk          460          325
##  3 Signature Espresso ~ White Chocolate Mo~ Soymilk             460          325
##  4 Signature Espresso ~ White Chocolate Mo~ Venti Nonfat ~      450          315
##  5 Tazo® Tea Drinks     Tazo® Green Tea La~ 2% Milk             450          315
##  6 Frappuccino® Blende~ Java Chip (Without~ Soymilk             430          295
##  7 Frappuccino® Blende~ Java Chip (Without~ Venti Nonfat ~      420          285
##  8 Signature Espresso ~ White Chocolate Mo~ 2% Milk             400          265
##  9 Frappuccino® Blende~ Mocha (Without Whi~ Whole Milk          390          255
## 10 Tazo® Tea Drinks     Tazo® Green Tea La~ Soymilk             390          255
## # ... with 232 more rows</code></pre>
</div>
<div id="section-6" class="section level2">
<h2></h2>
<pre class="r"><code>drinks_grouped &lt;- as_tibble(
  drink_calories %&gt;%
    group_by(Beverage_category)
)</code></pre>
<pre class="r"><code>drinks_grouped</code></pre>
<pre><code>## # A tibble: 242 x 5
##    Beverage_category    Beverage            Beverage_prep  Calories calorie_diff
##    &lt;chr&gt;                &lt;chr&gt;               &lt;chr&gt;             &lt;dbl&gt;        &lt;dbl&gt;
##  1 Signature Espresso ~ White Chocolate Mo~ 2% Milk             510          375
##  2 Frappuccino® Blende~ Java Chip (Without~ Whole Milk          460          325
##  3 Signature Espresso ~ White Chocolate Mo~ Soymilk             460          325
##  4 Signature Espresso ~ White Chocolate Mo~ Venti Nonfat ~      450          315
##  5 Tazo® Tea Drinks     Tazo® Green Tea La~ 2% Milk             450          315
##  6 Frappuccino® Blende~ Java Chip (Without~ Soymilk             430          295
##  7 Frappuccino® Blende~ Java Chip (Without~ Venti Nonfat ~      420          285
##  8 Signature Espresso ~ White Chocolate Mo~ 2% Milk             400          265
##  9 Frappuccino® Blende~ Mocha (Without Whi~ Whole Milk          390          255
## 10 Tazo® Tea Drinks     Tazo® Green Tea La~ Soymilk             390          255
## # ... with 232 more rows</code></pre>
</div>
<div id="section-7" class="section level2">
<h2></h2>
<pre class="r"><code>drinks_summary &lt;- drinks_grouped %&gt;%
  select(Beverage_prep, Calories) %&gt;%
  group_by(Beverage_prep) %&gt;%
  summarise(
    mean_cal = round(mean(Calories), 2)
  ) %&gt;%
  arrange(
    desc(mean_cal)
  )</code></pre>
<pre class="r"><code>drinks_summary</code></pre>
<pre><code>## # A tibble: 13 x 2
##    Beverage_prep      mean_cal
##    &lt;chr&gt;                 &lt;dbl&gt;
##  1 Whole Milk            284. 
##  2 Venti Nonfat Milk     260  
##  3 2% Milk               218  
##  4 Grande Nonfat Milk    210. 
##  5 Soymilk               207. 
##  6 Tall Nonfat Milk      148. 
##  7 Venti                 119. 
##  8 Short Nonfat Milk      99.2
##  9 Grande                 85.7
## 10 Tall                   63.4
## 11 Short                  37  
## 12 Doppio                 10  
## 13 Solo                    5</code></pre>
</div>
<div id="section-8" class="section level2">
<h2></h2>
<pre class="r"><code>drinks_piped &lt;- drinks %&gt;%
  select(Beverage_category, Beverage, Beverage_prep, Calories) %&gt;%
  filter(Beverage_category == &quot;Classic Espresso Drinks&quot;) %&gt;%
  mutate(
      calorie_diff = Calories - 135
    ) %&gt;%
  group_by(Beverage_prep) %&gt;%
  summarise(
    mean_cal = round(mean(Calories), 2)
  ) %&gt;%
  arrange(
    desc(mean_cal)
  )</code></pre>
<pre class="r"><code>drinks_piped</code></pre>
<pre><code>## # A tibble: 12 x 2
##    Beverage_prep      mean_cal
##    &lt;chr&gt;                 &lt;dbl&gt;
##  1 Venti Nonfat Milk      194 
##  2 2% Milk                184.
##  3 Soymilk                151.
##  4 Grande Nonfat Milk     150 
##  5 Tall Nonfat Milk       116 
##  6 Short Nonfat Milk       78 
##  7 Venti                   25 
##  8 Grande                  15 
##  9 Doppio                  10 
## 10 Tall                    10 
## 11 Short                    5 
## 12 Solo                     5</code></pre>
</div>
</div>
