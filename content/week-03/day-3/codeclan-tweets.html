---
title: "Tidyverse Consolidation Homework"
subtitle: "Week 03, Day 3; Homework"
author: "Miles Drake"
date: "2020-04-02"
output:
  html_document:
    df_print: paged
    number_sections: true
    toc: true
    toc_float: true
---



<pre class="r"><code>library(tidyverse)</code></pre>
<div id="mvp" class="section level1">
<h1>MVP</h1>
<div id="section" class="section level2">
<h2></h2>
<pre class="r"><code>tweets &lt;- read_csv(file(&quot;data/code_clan_tweets_utf-8.csv&quot;, encoding = &quot;UTF-8&quot;))</code></pre>
<pre class="r"><code>nrow(tweets)</code></pre>
<pre><code>## [1] 234</code></pre>
<pre class="r"><code>ncol(tweets)</code></pre>
<pre><code>## [1] 27</code></pre>
<pre class="r"><code>colnames(tweets)</code></pre>
<pre><code>##  [1] &quot;tweet_id&quot;               &quot;user_id&quot;                &quot;created_at&quot;            
##  [4] &quot;screen_name&quot;            &quot;text&quot;                   &quot;source&quot;                
##  [7] &quot;display_text_width&quot;     &quot;reply_to_status_id&quot;     &quot;reply_to_user_id&quot;      
## [10] &quot;reply_to_screen_name&quot;   &quot;is_quote&quot;               &quot;is_retweet&quot;            
## [13] &quot;favorite_count&quot;         &quot;retweet_count&quot;          &quot;quote_count&quot;           
## [16] &quot;reply_count&quot;            &quot;hashtags&quot;               &quot;symbols&quot;               
## [19] &quot;urls_url&quot;               &quot;urls_t.co&quot;              &quot;urls_expanded_url&quot;     
## [22] &quot;media_type&quot;             &quot;retweet_source&quot;         &quot;retweet_favorite_count&quot;
## [25] &quot;retweet_retweet_count&quot;  &quot;retweet_user_id&quot;        &quot;retweet_location&quot;</code></pre>
</div>
<div id="section-1" class="section level2">
<h2></h2>
<pre class="r"><code>ggplot(tweets) +
  aes(y = favorite_count) +
  geom_boxplot()</code></pre>
<p><img src="/week-03/day-3/codeclan-tweets_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
<div id="section-2" class="section level2">
<h2></h2>
<pre class="r"><code>tweets %&gt;% 
  filter(is_quote == FALSE) %&gt;% 
  summarise(
    sum(favorite_count)
  ) %&gt;% 
  as.integer()</code></pre>
<pre><code>## [1] 425</code></pre>
</div>
<div id="section-3" class="section level2">
<h2></h2>
<pre class="r"><code>tweets %&gt;% 
  filter(is_quote == FALSE) %&gt;% 
  group_by(source) %&gt;% 
  summarise(
    mean_retweet_count = mean(retweet_count)
  ) %&gt;% 
  arrange(
    desc(mean_retweet_count),
    source
  ) %&gt;% 
  mutate(
    mean_retweet_count = round(mean_retweet_count, 2)
  )</code></pre>
<pre><code>## # A tibble: 6 x 2
##   source             mean_retweet_count
##   &lt;chr&gt;                           &lt;dbl&gt;
## 1 TweetDeck                        5   
## 2 Tweetbot for Mac                 4   
## 3 Twitter for iPhone               3.05
## 4 Twitter Web App                  2.48
## 5 Twitter Web Client               2   
## 6 Hootsuite Inc.                   1.43</code></pre>
</div>
<div id="section-4" class="section level2">
<h2></h2>
<pre class="r"><code>tweets %&gt;% 
  select(
    media_type,
    favorite_count
  ) %&gt;% 
  mutate(
    media_type = replace_na(media_type, &quot;text&quot;)
  ) %&gt;% 
  group_by(media_type) %&gt;% 
  summarise(
    total_likes = n()
  ) %&gt;% 
  arrange(
    desc(total_likes)
  )</code></pre>
<pre><code>## # A tibble: 2 x 2
##   media_type total_likes
##   &lt;chr&gt;            &lt;int&gt;
## 1 text               145
## 2 photo               89</code></pre>
</div>
<div id="section-5" class="section level2">
<h2></h2>
<pre class="r"><code>tweets %&gt;% 
  select(text) %&gt;% 
  mutate(
    character_count = str_length(text)
  ) %&gt;% 
  summarise(
    mean(character_count)
  ) %&gt;% 
  as.integer()</code></pre>
<pre><code>## [1] 188</code></pre>
</div>
<div id="section-6" class="section level2">
<h2></h2>
<pre class="r"><code>tweets_info &lt;- read_csv(&quot;data/code_clan_info.csv&quot;)
tweets_joined &lt;- inner_join(tweets, tweets_info, by = &quot;tweet_id&quot;)</code></pre>
<pre class="r"><code>tweets_joined</code></pre>
<pre><code>## # A tibble: 234 x 41
##    tweet_id user_id created_at screen_name text  source display_text_wi~
##       &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;             &lt;dbl&gt;
##  1      347  3.25e9 23/05/19 ~ CodeClanSc~ @Cod~ Twitt~              100
##  2      346  3.25e9 22/05/19 ~ CodeClanSc~ We t~ Twitt~              148
##  3      345  3.25e9 22/05/19 ~ CodeClanSc~ A we~ Twitt~              140
##  4      344  3.25e9 22/05/19 ~ CodeClanSc~ New ~ Twitt~              140
##  5      343  3.25e9 22/05/19 ~ CodeClanSc~ Scot~ Twitt~              196
##  6      342  3.25e9 21/05/19 ~ CodeClanSc~ RT @~ Twitt~              140
##  7      341  3.25e9 21/05/19 ~ CodeClanSc~ @Tec~ Twitt~               29
##  8      340  3.25e9 21/05/19 ~ CodeClanSc~ Cong~ Twitt~              139
##  9      339  3.25e9 21/05/19 ~ CodeClanSc~ Is f~ Twitt~              261
## 10      338  3.25e9 21/05/19 ~ CodeClanSc~ Scot~ Twitt~              233
## # ... with 224 more rows, and 34 more variables: reply_to_status_id &lt;dbl&gt;,
## #   reply_to_user_id &lt;dbl&gt;, reply_to_screen_name &lt;chr&gt;, is_quote &lt;lgl&gt;,
## #   is_retweet &lt;lgl&gt;, favorite_count &lt;dbl&gt;, retweet_count &lt;dbl&gt;,
## #   quote_count &lt;lgl&gt;, reply_count &lt;lgl&gt;, hashtags &lt;chr&gt;, symbols &lt;lgl&gt;,
## #   urls_url &lt;chr&gt;, urls_t.co &lt;chr&gt;, urls_expanded_url &lt;chr&gt;, media_type &lt;chr&gt;,
## #   retweet_source &lt;chr&gt;, retweet_favorite_count &lt;dbl&gt;,
## #   retweet_retweet_count &lt;dbl&gt;, retweet_user_id &lt;dbl&gt;, retweet_location &lt;chr&gt;,
## #   status_url &lt;chr&gt;, name &lt;chr&gt;, location &lt;chr&gt;, description &lt;chr&gt;, url &lt;chr&gt;,
## #   protected &lt;lgl&gt;, followers_count &lt;dbl&gt;, friends_count &lt;dbl&gt;,
## #   listed_count &lt;dbl&gt;, statuses_count &lt;dbl&gt;, favourites_count &lt;dbl&gt;,
## #   account_created_at &lt;chr&gt;, verified &lt;lgl&gt;, profile_url &lt;chr&gt;</code></pre>
</div>
<div id="section-7" class="section level2">
<h2></h2>
<pre class="r"><code>codeclan_hashtags &lt;- tweets_joined %&gt;% 
  select(
    tweet_id,
    hashtags
  ) %&gt;% 
  filter(
    is.na(hashtags) == FALSE
  ) %&gt;% 
  mutate(
    hashtags = str_to_lower(hashtags)
  )</code></pre>
<pre class="r"><code>codeclan_hashtags</code></pre>
<pre><code>## # A tibble: 117 x 2
##    tweet_id hashtags          
##       &lt;dbl&gt; &lt;chr&gt;             
##  1      345 dundee            
##  2      344 tech              
##  3      342 techmums          
##  4      341 techmums          
##  5      340 techmums          
##  6      336 techmums          
##  7      335 forensicshoeprints
##  8      332 forensicshoeprints
##  9      331 forensicshoeprints
## 10      329 inverness         
## # ... with 107 more rows</code></pre>
</div>
</div>
