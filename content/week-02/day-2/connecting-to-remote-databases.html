---
title: "Connecting to Remote Databases in R"
subtitle: "Week 02, Day 2; Homework"
author: "Miles Drake"
date: 2020-03-03
output:
  html_document:
    number_sections: true
    toc: true
    toc_float: true
---



<pre class="r"><code>library(keyring)
library(RPostgreSQL)</code></pre>
<div id="mvp" class="section level1">
<h1>MVP</h1>
<div id="local-postgresql-connections" class="section level2">
<h2>Local PostgreSQL Connections</h2>
<pre class="r"><code>keyring_unlock(&quot;local&quot;)
local_db &lt;- dbConnect(
  drv = PostgreSQL(),
  user = key_get(&quot;postgresql_username&quot;, keyring = &quot;local&quot;),
  password = key_get(&quot;postgresql_password&quot;, keyring = &quot;local&quot;),
  dbname = &quot;wrestling&quot;,
  host = &quot;localhost&quot;
)
keyring_lock(&quot;local&quot;)</code></pre>
<div id="list-of-wrestlers" class="section level3">
<h3>List of Wrestlers</h3>
<pre class="r"><code>dbGetQuery(
  local_db,
  &quot;SELECT * FROM wrestlers&quot;
)</code></pre>
</div>
<div id="data-types" class="section level3">
<h3>Data Types</h3>
<ul>
<li>id: int</li>
<li>born: chr</li>
<li>name: chr</li>
<li>gender: chr</li>
<li>win_percent: dbl</li>
<li>total_matches: int</li>
</ul>
</div>
</div>
<div id="remote-postgresql-connections" class="section level2">
<h2>Remote PostgreSQL Connections</h2>
<pre class="r"><code>keyring_unlock(&quot;remote&quot;)
PostgreSQL(max.con = 2) # Set maximum simultaneous connections to 2
remote_db &lt;- dbConnect(
  drv = PostgreSQL(),
  user = key_get(&quot;wrestling_username&quot;, keyring = &quot;remote&quot;),
  password = key_get(&quot;wrestling_password&quot;, keyring = &quot;remote&quot;),
  dbname = &quot;mvhbdgdk&quot;,
  host = &quot;manny.db.elephantsql.com&quot;
)
keyring_lock(&quot;remote&quot;)</code></pre>
<div id="list-of-wrestlers-1" class="section level3">
<h3>List of Wrestlers</h3>
<pre class="r"><code>dbGetQuery(
  remote_db,
  &quot;SELECT * FROM wrestlers&quot;
)</code></pre>
</div>
</div>
</div>
<div id="extensions" class="section level1">
<h1>Extensions</h1>
<div id="section" class="section level2">
<h2></h2>
<pre class="r"><code>dbGetQuery(
  remote_db,
  &quot;SELECT * FROM wrestlers
  WHERE born = &#39;United Kingdom&#39;&quot;
)</code></pre>
</div>
<div id="section-1" class="section level2">
<h2></h2>
<pre class="r"><code>dbGetQuery(
  remote_db,
  &quot;SELECT * FROM wrestlers
  WHERE born = &#39;Japan&#39;
  AND total_matches &gt;= 40&quot;
)</code></pre>
</div>
<div id="section-2" class="section level2">
<h2></h2>
<pre class="r"><code>dbGetQuery(
  remote_db,
  &quot;SELECT * FROM wrestlers
  WHERE win_percent BETWEEN 50 AND 60&quot;
)</code></pre>
</div>
<div id="section-3" class="section level2">
<h2></h2>
<pre class="r"><code>dbGetQuery(
  remote_db,
  &quot;SELECT * FROM wrestlers
  WHERE name LIKE &#39;X%&#39;&quot;
)</code></pre>
</div>
<div id="section-4" class="section level2">
<h2></h2>
<pre class="r"><code>dbGetQuery(
  remote_db,
  &quot;SELECT * FROM wrestlers
  WHERE born LIKE &#39;I%&#39;&quot;
)</code></pre>
</div>
<div id="section-5" class="section level2">
<h2></h2>
<pre class="r"><code>dbGetQuery(
  remote_db,
  &quot;SELECT * FROM wrestlers
  WHERE born NOT LIKE &#39;I%&#39;&quot;
)</code></pre>
<pre class="r"><code># Disconnect from remote_db
dbDisconnect(conn = remote_db)</code></pre>
</div>
</div>
